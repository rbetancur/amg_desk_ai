# ============================================================================
# AGM Desk AI Agent - Variables de Entorno
# ============================================================================
# Copia este archivo a .env y reemplaza los valores con tus credenciales reales
# IMPORTANTE: Nunca commitees el archivo .env al repositorio

# ============================================================================
# Supabase Configuration (REQUERIDO)
# ============================================================================
# Project URL
# Obtener desde: Supabase Dashboard > Settings > API > Project URL
SUPABASE_URL=https://[PROJECT-REF].supabase.co

# Service Role Key (REQUERIDO para el agente)
# ⚠️ MANTÉN ESTA CLAVE SEGURA - permite bypass de RLS
# Obtener desde: Supabase Dashboard > Settings > API > service_role key (secret)
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# ============================================================================
# Backend FastAPI Configuration (REQUERIDO)
# ============================================================================
# URL del backend FastAPI
# Para desarrollo local: http://localhost:8000
# Para producción: URL de tu backend desplegado
BACKEND_URL=http://localhost:8000

# API Secret Key (debe coincidir con API_SECRET_KEY del backend)
API_SECRET_KEY=dev-api-secret-key-12345

# ============================================================================
# Gemini AI Configuration (REQUERIDO)
# ============================================================================
# API Key de Gemini
# Obtener desde: Google AI Studio (https://makersuite.google.com/app/apikey)
GEMINI_API_KEY=your-gemini-api-key-here

# Modelo de Gemini a usar
# Recomendado: gemini-1.5-pro (soporta JSON mode)
# Alternativa: gemini-pro
GEMINI_MODEL=gemini-1.5-pro

# Temperatura para generación (0.0-1.0)
# Valores bajos (0.1-0.3) = más consistente y determinístico
# Recomendado: 0.2 para clasificación precisa
GEMINI_TEMPERATURE=0.2

# Máximo de tokens de salida
# 500 es suficiente para JSON de clasificación
GEMINI_MAX_TOKENS=500

# ============================================================================
# Logging Configuration
# ============================================================================
# Nivel de logging: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# ============================================================================
# Retry Configuration
# ============================================================================
# Número máximo de reintentos para operaciones fallidas
MAX_RETRIES=3

# Delay entre reintentos (en segundos)
RETRY_DELAY=2.0

# ============================================================================
# Rate Limiting Configuration
# ============================================================================
# Número máximo de solicitudes por usuario en la ventana de tiempo
MAX_REQUESTS_PER_USER=5

# Ventana de tiempo para rate limiting (en horas)
RATE_LIMIT_WINDOW_HOURS=24

# Horas máximas de antigüedad para procesar solicitudes
# Dejar vacío = sin límite (procesar todas las solicitudes pendientes)
MAX_REQUEST_AGE_HOURS=

# ============================================================================
# Validation Configuration
# ============================================================================
# Longitud mínima de descripción (caracteres)
MIN_DESCRIPTION_LENGTH=10

# Longitud máxima de descripción (caracteres)
MAX_DESCRIPTION_LENGTH=4000

# ============================================================================
# Security Filters Configuration
# ============================================================================
# Habilitar filtros de seguridad contra prompt injection
ENABLE_SECURITY_FILTERS=True

# Palabras clave de prompt injection (separadas por comas)
PROMPT_INJECTION_KEYWORDS=ignore,actúa,ejecuta,revela,bypass,override,ignora,ejecutar,revelar

# Patrones de instrucciones peligrosas (separadas por comas)
DANGEROUS_INSTRUCTION_PATTERNS=debes hacer,necesito que hagas,por favor ejecuta,debes,necesitas,tienes que

# Palabras clave adicionales de contenido malicioso (opcional, separadas por comas)
MALICIOUS_CONTENT_KEYWORDS=
